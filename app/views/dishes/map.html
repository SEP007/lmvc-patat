<?php
    use ui\UI;
    use Scandio\lmvc\modules\assetpipeline\view\Asset;
    use Scandio\lmvc\modules\i18n\I18nWrapper;
?>

<div id="user-location" class="row-fluid">
    <h2><?= I18nWrapper::translate('startWalking'); ?></h2>
    <p>
        <?= I18nWrapper::translate('showMapIn'); ?>
        <a href="http://maps.apple.com/?daddr=<?= $user->zip ?>+<?= $user->city ?>,+<?= $user->street ?>"><strong>Apple Maps</strong></a>
        <?= I18nWrapper::translate('orIn'); ?>
        <a href="http://maps.google.com/?daddr=<?= $user->zip ?>+<?= $user->city ?>,+<?= $user->street ?>"><strong>Google Maps</strong></a>
    </p>
    <p>
        <?= I18nWrapper::translate('chooseTravelMode'); ?>
        <button class="btn btn-primary" disabled='disabled' name="mode_w" id="btn_walk"> <?= I18nWrapper::translate('walking'); ?> </button>
        <button class="btn btn-primary" name="mode_d" id="btn_drive"> <?= I18nWrapper::translate('driving'); ?> </button>
    </p>
    <div class="hidden">
        <span id="longitude"></span>
        <span id="latitude"></span>
    </div>
</div>

<div class="row-fluid map-container">
    <div id="map" data-userid=<?= $user->id ?> class="span12"></div>
</div>

<script type="text/javascript" charset="UTF-8" src="http://maps.google.com/maps/api/js?sensor=true"></script>

<?= UI::js(Asset::assets(['gmaps.js'])) ?>
<?= UI::js(Asset::assets(['jquery.patatmap.js'], ['path' => 'plugins'])) ?>
<?= UI::js(Asset::assets(['jquery.dishes-map.js'], ['path' => 'views'])) ?>
